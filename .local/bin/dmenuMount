#!/bin/sh

usbDrives="$(lsblk -rpo "name,type,size,label,mountpoint,fstype" | grep 'part\|rom' | sed 's/ /:/g' | awk -F':' '$5==""{printf "%s (%s) %s\n",$1,$3,$4}')"

chosen="$(echo "$usbDrives" | dmenu -i -p "Mount which drive?")" || exit 1
chosen="$(echo "$chosen" | awk '{print $1}')"

sudo -A mount "$chosen" "$HOME/mnt/$(echo "$chosen" | sed "s;.*/;;")"
